<%@page import="com.liferay.petra.string.StringPool"%>
<%@page import="com.liferay.portal.kernel.util.Validator"%>
<%@page import="com.liferay.portal.kernel.json.JSONObject"%>
<%@ include file="/init.jsp"%>

<%
	JSONObject verificationJSONObject = (JSONObject) renderRequest.getAttribute("verificationJSONObject");
	if (Validator.isNotNull(verificationJSONObject)) {
		boolean autoDebitPendingStep = (boolean)request.getAttribute("autoDebitPending");
%>
<div class="<%= autoDebitPendingStep ? "active show" : StringPool.BLANK %> tab-pane fade" id="pills-profile"
	role="tabpanel" aria-labelledby="pills-profile-tab">
	<h2>
		<liferay-ui:message key="label-auto-debit-setup" />
	</h2>
	<p>
		<liferay-ui:message key="label-nach-is-mandatory-for-this-policy" />
	</p>

	<%
		if (verificationJSONObject.getString("enachStatus").equalsIgnoreCase("Pending")) {
	%>
	<div class="application-form-tiles-wrapper">
		<div class="card-details-wrapper">
			<div class="net-banking-wrapper">
				<p>
					<liferay-ui:message
						key="label-if-your-preferred-mode-of-payment-is" />
				</p>
				<h4>
					<liferay-ui:message key="label-net-banking" />
					<br>
					<liferay-ui:message key="label-or" />
					<br>
					<liferay-ui:message key="label-debit-card" />
				</h4>
				<% if(!verificationJSONObject.getString("enachURL").isBlank()){%>
					<a class="edto-btn-primary" href="<%=verificationJSONObject.getString("enachURL")%>"> <liferay-ui:message key="label-register-enach" />
					</a>
				<%}%>
			</div>
		</div>
	</div>
	<%
		}
	%>

	<div class="application-table-content">
		<div class="table-form-wrapper">
			<div class="td-form">
				<h3>
					<liferay-ui:message key="label-registration-for-enach" />
				</h3>
			</div>
			<div class="td-form">
				<%
					if (verificationJSONObject.getString("enachStatus").equalsIgnoreCase("Completed")) {
				%>
				<span> 
					<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    	<path fill-rule="evenodd" clip-rule="evenodd" d="M0 9C0 6.61305 0.948212 4.32387 2.63604 2.63604C4.32387 0.948212 6.61305 0 9 0C11.3869 0 13.6761 0.948212 15.364 2.63604C17.0518 4.32387 18 6.61305 18 9C18 11.3869 17.0518 13.6761 15.364 15.364C13.6761 17.0518 11.3869 18 9 18C6.61305 18 4.32387 17.0518 2.63604 15.364C0.948212 13.6761 0 11.3869 0 9H0ZM8.4864 12.852L13.668 6.3744L12.732 5.6256L8.3136 11.1468L5.184 8.5392L4.416 9.4608L8.4864 12.8532V12.852Z"
							fill="#00C511">
						</path>
                    </svg> 
                	<liferay-ui:message key="label-registered" />
				</span>
				<%
					} else if (verificationJSONObject.getString("enachStatus").equalsIgnoreCase("InProcess")) {
				%>
				<span style="color:#e48e0d;">
					<svg width="20" height="20" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M15.125 24.475C14.7423 24.4747 14.3664 24.3738 14.035 24.1825L7.53496 20.4325C7.03299 20.1418 6.66685 19.6639 6.51686 19.1035C6.36688 18.5432 6.44532 17.9463 6.73496 17.4437L7.67246 15.8187C8.16809 15.129 8.81672 14.5634 9.56753 14.1663C10.3183 13.7692 11.1509 13.5514 12 13.53C12.0424 13.5226 12.0827 13.5059 12.1179 13.4812C12.1532 13.4565 12.1826 13.4244 12.2041 13.387C12.2256 13.3497 12.2386 13.3081 12.2422 13.2652C12.2458 13.2223 12.2399 13.1791 12.225 13.1387C11.8182 12.3922 11.59 11.5616 11.5584 10.712C11.5267 9.86249 11.6924 9.01717 12.0425 8.24246L12.98 6.61746C13.2709 6.11612 13.7485 5.75039 14.3083 5.60024C14.8682 5.45009 15.4647 5.52774 15.9675 5.81621L22.4675 9.56621C22.9694 9.85688 23.3356 10.3348 23.4856 10.8951C23.6355 11.4555 23.5571 12.0524 23.2675 12.555L22.33 14.18C21.8342 14.8703 21.1852 15.4363 20.434 15.8336C19.6827 16.2309 18.8496 16.4487 18 16.47C17.9575 16.477 17.9171 16.4934 17.8817 16.5179C17.8463 16.5424 17.8168 16.5745 17.7952 16.6118C17.7737 16.6491 17.7607 16.6907 17.7572 16.7336C17.7537 16.7765 17.7598 16.8197 17.775 16.86C18.1819 17.6066 18.4102 18.4375 18.4419 19.2873C18.4735 20.137 18.3077 20.9826 17.9575 21.7575L17.02 23.3825C16.8278 23.7149 16.5515 23.9908 16.2188 24.1826C15.8862 24.3743 15.5089 24.4752 15.125 24.475ZM14.875 7.39996C14.82 7.39985 14.766 7.41424 14.7184 7.44167C14.6707 7.4691 14.6312 7.50861 14.6037 7.55621L13.6662 9.18121C13.4771 9.70847 13.4049 10.2705 13.4545 10.8285C13.5042 11.3864 13.6745 11.9269 13.9537 12.4125C14.0805 12.7199 14.1349 13.0523 14.1129 13.3841C14.0908 13.7159 13.9929 14.0382 13.8266 14.3261C13.6602 14.6141 13.43 14.8599 13.1536 15.0448C12.8772 15.2297 12.5621 15.3486 12.2325 15.3925C11.6725 15.3936 11.1195 15.5164 10.6117 15.7523C10.1038 15.9882 9.65329 16.3316 9.29121 16.7587L8.35371 18.3837C8.33307 18.4192 8.31964 18.4585 8.31418 18.4992C8.30873 18.5399 8.31136 18.5813 8.32192 18.621C8.33249 18.6608 8.35078 18.698 8.37576 18.7306C8.40073 18.7633 8.43189 18.7906 8.46746 18.8112L14.9675 22.5612C15.0394 22.6017 15.1244 22.6124 15.2041 22.5909C15.2838 22.5694 15.3519 22.5174 15.3937 22.4462L16.3312 20.8212C16.5203 20.2939 16.5925 19.7319 16.5429 19.174C16.4932 18.616 16.3229 18.0755 16.0437 17.59C15.9167 17.2826 15.862 16.9502 15.8839 16.6184C15.9058 16.2866 16.0038 15.9643 16.1702 15.6763C16.3365 15.3884 16.5669 15.1426 16.8434 14.9579C17.12 14.7732 17.4353 14.6546 17.765 14.6112C18.3249 14.6093 18.8778 14.4861 19.3856 14.25C19.8933 14.0139 20.3439 13.6706 20.7062 13.2437L21.6437 11.6187C21.6644 11.5832 21.6778 11.5439 21.6832 11.5032C21.6887 11.4625 21.6861 11.4211 21.6755 11.3814C21.6649 11.3417 21.6466 11.3044 21.6217 11.2718C21.5967 11.2392 21.5655 11.2118 21.53 11.1912L15.03 7.44121C14.9827 7.41437 14.9293 7.40016 14.875 7.39996Z" fill="#E48E0D"/>
						<path d="M27.5 15.9375C27.2514 15.9375 27.0129 15.8387 26.8371 15.6629C26.6613 15.4871 26.5625 15.2486 26.5625 15C26.5626 12.713 25.8846 10.4774 24.6141 8.57583C23.3436 6.67427 21.5377 5.19218 19.4249 4.31698C17.312 3.44179 14.9871 3.21281 12.7441 3.65901C10.5011 4.10521 8.4408 5.20653 6.82375 6.82371C6.43613 7.21187 6.07609 7.62663 5.74625 8.06496C5.59707 8.26387 5.37497 8.39537 5.12883 8.43054C4.88269 8.4657 4.63266 8.40164 4.43375 8.25246C4.23484 8.10327 4.10334 7.88118 4.06817 7.63504C4.03301 7.3889 4.09707 7.13887 4.24625 6.93996C4.6299 6.43305 5.04753 5.95278 5.49625 5.50246C7.37516 3.62276 9.76928 2.34244 12.3758 1.82343C14.9824 1.30441 17.6843 1.56999 20.14 2.5866C22.5956 3.60321 24.6946 5.32518 26.1715 7.53474C27.6485 9.7443 28.4371 12.3422 28.4375 15C28.4375 15.2486 28.3387 15.4871 28.1629 15.6629C27.9871 15.8387 27.7486 15.9375 27.5 15.9375ZM15 28.4375C13.2353 28.4378 11.4878 28.0904 9.8573 27.4153C8.22684 26.7401 6.74537 25.7503 5.49752 24.5024C4.24967 23.2546 3.25988 21.7731 2.5847 20.1427C1.90952 18.5122 1.56217 16.7647 1.5625 15C1.5625 14.7513 1.66127 14.5129 1.83709 14.337C2.0129 14.1612 2.25136 14.0625 2.5 14.0625C2.74864 14.0625 2.9871 14.1612 3.16291 14.337C3.33873 14.5129 3.4375 14.7513 3.4375 15C3.43737 17.2869 4.11543 19.5225 5.38592 21.4241C6.65642 23.3256 8.46228 24.8077 10.5751 25.6829C12.688 26.5581 15.0129 26.7871 17.2559 26.3409C19.4989 25.8947 21.5592 24.7934 23.1763 23.1762C23.5637 22.7887 23.9233 22.3743 24.2525 21.9362C24.4066 21.7514 24.6257 21.6329 24.8647 21.605C25.1037 21.5772 25.3442 21.6421 25.5367 21.7865C25.7292 21.9308 25.8589 22.1435 25.899 22.3808C25.9392 22.618 25.8867 22.8615 25.7525 23.0612C25.3693 23.5689 24.9517 24.0496 24.5025 24.5C23.2575 25.7518 21.7766 26.7444 20.1455 27.4203C18.5145 28.0961 16.7656 28.4418 15 28.4375Z" fill="#E48E0D"/>
						<path d="M25.6061 26.5438C25.3574 26.5438 25.119 26.445 24.9431 26.2692C24.7673 26.0934 24.6686 25.8549 24.6686 25.6063V23.0088H22.0698C21.8212 23.0088 21.5827 22.91 21.4069 22.7342C21.2311 22.5584 21.1323 22.3199 21.1323 22.0713C21.1323 21.8227 21.2311 21.5842 21.4069 21.4084C21.5827 21.2326 21.8212 21.1338 22.0698 21.1338H25.6061C25.8547 21.1338 26.0932 21.2326 26.269 21.4084C26.4448 21.5842 26.5436 21.8227 26.5436 22.0713V25.6063C26.5436 25.8549 26.4448 26.0934 26.269 26.2692C26.0932 26.445 25.8547 26.5438 25.6061 26.5438ZM7.92855 8.8663H4.39355C4.14491 8.8663 3.90646 8.76753 3.73064 8.59171C3.55483 8.4159 3.45605 8.17744 3.45605 7.9288V4.3938C3.45605 4.14516 3.55483 3.9067 3.73064 3.73089C3.90646 3.55507 4.14491 3.4563 4.39355 3.4563C4.6422 3.4563 4.88065 3.55507 5.05647 3.73089C5.23228 3.9067 5.33105 4.14516 5.33105 4.3938V6.9913H7.92855C8.17719 6.9913 8.41565 7.09007 8.59147 7.26589C8.76728 7.4417 8.86605 7.68016 8.86605 7.9288C8.86605 8.17744 8.76728 8.4159 8.59147 8.59171C8.41565 8.76753 8.17719 8.8663 7.92855 8.8663Z" fill="#E48E0D"/>
					</svg>
                	<liferay-ui:message key="label-in-progress" />
				</span>
				<%
					} else if (verificationJSONObject.getString("enachStatus").equalsIgnoreCase("Pending")) {
				%>
				<span style="color:#cc2c2c;"> 
					<svg width="18" height="18" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M17.3333 10.666C18.0697 10.666 18.6667 11.263 18.6667 11.9993V17.3327C18.6667 18.0691 18.0697 18.666 17.3333 18.666H13.3333C12.597 18.666 12 18.0691 12 17.3327C12 16.5963 12.597 15.9993 13.3333 15.9993H16V11.9993C16 11.263 16.5969 10.666 17.3333 10.666Z" fill="#CC2C2C"/>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M16.0013 5.33268C10.1103 5.33268 5.33464 10.1083 5.33464 15.9993C5.33464 21.8904 10.1103 26.666 16.0013 26.666C21.8924 26.666 26.668 21.8904 26.668 15.9993C26.668 10.1083 21.8924 5.33268 16.0013 5.33268ZM2.66797 15.9993C2.66797 8.63555 8.6375 2.66602 16.0013 2.66602C23.365 2.66602 29.3346 8.63555 29.3346 15.9993C29.3346 23.3631 23.365 29.3327 16.0013 29.3327C8.6375 29.3327 2.66797 23.3631 2.66797 15.9993Z" fill="#CC2C2C"/>
					</svg>
					<liferay-ui:message key="label-pending" />
				</span>
				<%
					}
				%>
			</div>
		</div>
	</div>
</div>

<%
	}
%>